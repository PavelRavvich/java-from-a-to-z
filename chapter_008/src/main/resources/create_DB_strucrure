create database tracker;

--move to tracker data base.
\c tracker;

--create roles table. Privilege determines boolean flags.
create table if not exists privilege_roles(
    role char(10) PRIMARY KEY,
    data_view boolean,
    data_injection boolean
);

--create table with users.
create table if not exists users(
    user_id serial PRIMARY KEY,
    username char(20),
    password char(20),
    email char(30),
    role char(10)
);

--create table with tasks.
create table if not exists tasks(
    code_task serial PRIMARY KEY,
    user_id integer,
    name_task char(50),
    description char(5000),
    state char(10),
    category char(20),
    create_time timestamp
);

--create table with comments.
create table if not exists comments(
    code_comment serial PRIMARY KEY,
    code_task integer,
    body_comment char(2000),
    create_time timestamp,
    user_id integer
);

--create table with files of tasks paths.
create table if not exists files_tasks(
    file_id serial PRIMARY KEY,
    file_path text NOT NULL,
    code_task integer
);

--create table with files of comments paths.
create table if not exists files_comments(
    file_id serial PRIMARY KEY,
    file_path text NOT NULL,
    code_comment integer
);